import matplotlib.pyplot as plt
import networkx as nx

# Создаем граф для дерева целей
# Создаем граф для дерева целей с переработанными позициями узлов
G = nx.DiGraph()

# Уровень 0: Главная цель
G.add_node("Улучшение процессов\nуправления проектами", pos=(0, 4))

# Уровень 1: Подцели
G.add_node("Стандартизация управления\nпроектами", pos=(-4, 2))
G.add_node("Улучшение координации\nмежду отделами", pos=(0, 2))
G.add_node("Оптимизация управления\nраспределенной командой", pos=(4, 2))

# Связи от главной цели к подцелям
G.add_edge("Улучшение процессов\nуправления проектами", "Стандартизация управления\nпроектами")
G.add_edge("Улучшение процессов\nуправления проектами", "Улучшение координации\nмежду отделами")
G.add_edge("Улучшение процессов\nуправления проектами", "Оптимизация управления\nраспределенной командой")

# Уровень 2: Детализация подцелей
# Стандартизация управления проектами
G.add_node("Разработка шаблонов и стандартов", pos=(-5, 0))
G.add_node("Автоматизация рабочих процессов", pos=(-3, 0))
G.add_edge("Стандартизация управления\nпроектами", "Разработка шаблонов и стандартов")
G.add_edge("Стандартизация управления\nпроектами", "Автоматизация рабочих процессов")

# Улучшение координации между отделами
G.add_node("Внедрение платформы для\nмониторинга задач", pos=(-1, 0))
G.add_node("Регулярные совещания\nдля синхронизации", pos=(1, 0))
G.add_edge("Улучшение координации\nмежду отделами", "Внедрение платформы для\nмониторинга задач")
G.add_edge("Улучшение координации\nмежду отделами", "Регулярные совещания\nдля синхронизации")

# Оптимизация управления распределенной командой
G.add_node("Настройка виртуальных\nплатформ", pos=(3, 0))
G.add_node("Обучение сотрудников\nэффективному взаимодействию", pos=(5, 0))
G.add_edge("Оптимизация управления\nраспределенной командой", "Настройка виртуальных\nплатформ")
G.add_edge("Оптимизация управления\nраспределенной командой", "Обучение сотрудников\nэффективному взаимодействию")

# Получение позиций для узлов
pos = nx.get_node_attributes(G, 'pos')

# Создание графика
plt.figure(figsize=(16, 12))
nx.draw(G, pos, with_labels=True, node_size=15000, node_color="lightblue", font_size=7, font_weight="bold", arrowsize=25)
plt.title("Дерево целей", fontsize=16)
plt.show()
